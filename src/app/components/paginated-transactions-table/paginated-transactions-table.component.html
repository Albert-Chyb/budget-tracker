<ng-container *ngIf="data$ | async as data">
	<paginated-firestore-collection-table mat-table [dataSource]="dataSource">
		<table mat-table [dataSource]="dataSource">
			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

			<ng-container matColumnDef="amount">
				<th mat-header-cell *matHeaderCellDef>Wartość</th>
				<td mat-cell *matCellDef="let transaction">
					{{ transaction.type === 'expense' ? '-' : '+' }}
					{{ transaction.amount | currency }}
				</td>
			</ng-container>

			<ng-container matColumnDef="date">
				<th mat-header-cell *matHeaderCellDef>Data</th>
				<td mat-cell *matCellDef="let transaction">
					{{ transaction.date | date }}
				</td>
			</ng-container>

			<ng-container matColumnDef="category">
				<th mat-header-cell *matHeaderCellDef>Kategoria</th>
				<td mat-cell *matCellDef="let transaction">
					{{ getCategoryName(transaction.category, data.categories) }}
				</td>
			</ng-container>

			<ng-container matColumnDef="wallet">
				<th mat-header-cell *matHeaderCellDef>Portfel</th>
				<td mat-cell *matCellDef="let transaction">
					{{ getWalletName(transaction.wallet, data.wallets) }}
				</td>
			</ng-container>
		</table>
	</paginated-firestore-collection-table>
</ng-container>
