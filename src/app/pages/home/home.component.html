<div class="header-with-actions">
	<h1>Statystyki</h1>

	<div class="spacer"></div>

	<button
		mat-icon-button
		color="accent"
		aria-label="Otwórz dialog do zmiany okresu"
		matTooltip="Zmień okres"
		(click)="changePeriod()"
	>
		<mat-icon>edit_calendar</mat-icon>
	</button>

	<button
		mat-icon-button
		color="accent"
		aria-label="Otwórz dialog do zmiany portfela"
		matTooltip="Zmień portfel"
		(click)="changeDataSource()"
	>
		<mat-icon>account_balance_wallet</mat-icon>
	</button>
</div>

<mat-grid-list
	*ngIf="layout$ | async as layout"
	[cols]="cols"
	[rowHeight]="rowHeightRem + 'rem'"
	[gutterSize]="gutterSizeRem + 'rem'"
>
	<!-- CARDS -->

	<mat-grid-tile [colspan]="layout.card.colspan" rowspan="11">
		<mat-card>
			<mat-card-header>
				<h2 mat-card-title>Balans</h2>
				<p mat-card-subtitle>Suma w wybranych portfelach</p>
			</mat-card-header>

			<mat-card-content>
				<p class="money-amount">{{ 10476.56 | currency }}</p>
			</mat-card-content>
		</mat-card>
	</mat-grid-tile>

	<mat-grid-tile [colspan]="layout.card.colspan" rowspan="11">
		<mat-card>
			<mat-card-header>
				<h2 mat-card-title>Przychody</h2>
				<p mat-card-subtitle>- 15% vs ostatni okres</p>
			</mat-card-header>

			<mat-card-content>
				<p class="money-amount">{{ 600 | currency }}</p>
			</mat-card-content>
		</mat-card>
	</mat-grid-tile>

	<mat-grid-tile [colspan]="layout.card.colspan" rowspan="11">
		<mat-card>
			<mat-card-header>
				<h2 mat-card-title>Wydatki</h2>
				<p mat-card-subtitle>+ 7% vs ostatni okres</p>
			</mat-card-header>

			<mat-card-content>
				<p class="money-amount">{{ 174.99 | currency }}</p>
			</mat-card-content>
		</mat-card>
	</mat-grid-tile>

	<mat-grid-tile [colspan]="layout.card.colspan" rowspan="11">
		<mat-card>
			<mat-card-header>
				<h2 mat-card-title>Różnica</h2>
				<p mat-card-subtitle>Różnica przychodów i wydatków</p>
			</mat-card-header>

			<mat-card-content>
				<p class="money-amount">{{ 600 - 174.99 | currency }}</p>
			</mat-card-content>
		</mat-card>
	</mat-grid-tile>

	<!-- Bar chart -->

	<mat-grid-tile [colspan]="layout.expensesChart.colspan" rowspan="35">
		<mat-card>
			<mat-card-header>
				<h2 mat-card-title>Wykres wydatków w wybranym okresie</h2>
			</mat-card-header>

			<mat-card-content>
				<div style="width: 100%" [style.height]="'40' + 'rem'">
					<canvas
						baseChart
						[options]="{ maintainAspectRatio: false }"
						type="bar"
						[datasets]="[
							{ data: [10, 45, 17, 67, 45], label: 'Wydatki', borderRadius: 3 }
						]"
						[labels]="[
							'Tydzień 1',
							'Tydzień 2',
							'Tydzień 3',
							'Tydzień 4',
							'Tydzień 5'
						]"
					></canvas>
				</div>
			</mat-card-content>
		</mat-card>
	</mat-grid-tile>

	<!-- Popular categories -->

	<mat-grid-tile [colspan]="layout.popularCategoriesChart.colspan" rowspan="35">
		<mat-card>
			<mat-card-header>
				<h2 mat-card-title>Popularne kategorie</h2>
			</mat-card-header>

			<mat-card-content>
				<canvas
					baseChart
					type="pie"
					[options]="{}"
					[datasets]="[{ data: [30, 15, 60, 12, 67], label: 'Wydatki' }]"
					[labels]="['Jedzenie', 'Paliwo', 'Transport', 'Rozrywka', 'Imprezy']"
				></canvas>
			</mat-card-content>
		</mat-card>
	</mat-grid-tile>

	<!-- Latest transactions -->

	<mat-grid-tile [colspan]="layout.transactionsTable.colspan" rowspan="35">
		<mat-card>
			<mat-card-header>
				<h2 mat-card-title>Ostatnie transakcje</h2>
			</mat-card-header>
		</mat-card>
	</mat-grid-tile>
</mat-grid-list>
